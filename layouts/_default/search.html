{{ define "main" }}
<div class="content-section">
    <h2>æœç´¢å­¦ä¹ èµ„æ–™</h2>

    <!-- æ·»åŠ åŠ è½½æç¤º -->
    <div class="search-notice">
        <p>ğŸ” æœç´¢å¯èƒ½åŠ è½½è¾ƒæ…¢ï¼Œè¯·è€å¿ƒç­‰å¾…ã€‚å¦‚æœé•¿æ—¶é—´æ²¡æœ‰ç»“æœï¼Œå¯èƒ½æ˜¯å°šæœªä¸Šä¼ ç›¸å…³èµ„æºã€‚</p>
    </div>

    <div id="search-box"></div>
    <div id="hits"></div>

    <script src="https://cdn.jsdelivr.net/npm/algoliasearch@4/dist/algoliasearch-lite.umd.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/instantsearch.js@4"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/instantsearch.css@8/themes/satellite-min.css">

    <script>
      // ç¡®ä¿è¿™é‡Œä½¿ç”¨çš„æ˜¯æ­£ç¡®çš„Algoliaå¯†é’¥
      const searchClient = algoliasearch(
        'SMA85IWFQN',
        '8a00c461ba4a78c16cb8862108e7e83a'
      );

      const search = instantsearch({
        indexName: 'nuaaguide',
        searchClient,
      });

      search.addWidgets([
        instantsearch.widgets.searchBox({
          container: '#search-box',
          placeholder: 'è¾“å…¥è¯¾ç¨‹åã€è€å¸ˆæˆ–å…³é”®è¯æœç´¢...',
        }),

        instantsearch.widgets.hits({
          container: '#hits',
          templates: {
            item: `
              <article>
                <a href="{{permalink}}" style="color: #0056b3; font-weight: bold;">
                  <h4>{{#helpers.highlight}}{ "attribute": "title" }{{/helpers.highlight}}</h4>
                </a>
                <p style="color: #6c757d; margin-top: 4px;">{{#helpers.highlight}}{ "attribute": "summary" }{{/helpers.highlight}}</p>
                {{#file_url}}<small>ä¸‹è½½èµ„æº</small>{{/file_url}}
              </article>
            `,
            empty: `æ²¡æœ‰æ‰¾åˆ°ä¸ "{{query}}" ç›¸å…³çš„èµ„æ–™ã€‚`,
          },
        })
      ]);

      search.start();
    </script>
</div>
{{ end }}
